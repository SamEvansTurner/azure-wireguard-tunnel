# Azure WireGuard Secure Tunnel - Configuration Example
# 
# INSTRUCTIONS:
# 1. Copy this file to terraform.tfvars
# 2. Replace all CHANGEME values with your actual configuration
# 3. DO NOT commit terraform.tfvars to git (it's in .gitignore)
#
# SECURITY NOTE: 
# - Use a unique username (not admin, root, azureuser)
# - Ensure your SSH public key exists at the specified path
# - Your home IP should end with /32 (single IP address)

# ===== REQUIRED CONFIGURATION =====

# Your SSH username (choose something unique!)
admin_username = "CHANGEME"

# Path to your SSH public key
# Generate with: ssh-keygen -t ed25519 -C "your@email.com"
ssh_public_key_path = "~/.ssh/id_ed25519.pub"

# Your home public IPv4 address with /32
# Find your IPv4: curl -4 ifconfig.me
allowed_ssh_ipv4 = "CHANGEME/32"

# Your home public IPv6 address with /128 (optional)
# Find your IPv6: curl -6 ifconfig.me
# Leave empty ("") if you don't have or don't want IPv6 SSH access
allowed_ssh_ipv6 = ""

# Your domain name
domain_name = "CHANGEME"

# Subdomain part (e.g., "services" for services.yourdomain.com), * for wildcard DNS A record
subdomain = "services"

# Your deSEC API token
# Get from: https://desec.io/
desec_token = "CHANGEME"

# ===== OPTIONAL CONFIGURATION =====

# Azure region (default: australiaeast)
location = "australiaeast"

# Resource group name
resource_group_name = "rg-secure-tunnel"

# VM Size
# Standard_B1ls = $3.80/month (512 MB RAM) - Default, sufficient for tunnel
# Standard_B1s  = $10/month (1 GB RAM) - Use if B1ls has memory issues
vm_size = "Standard_B1ls"

# Public IP allocation
# false = Dynamic IP ($2.80/month) - Recommended, auto-updates DNS on boot
# true  = Static IP ($3.65/month) - Use if you want guaranteed same IP
use_static_ip = false

# Network Configuration (usually don't need to change)
vnet_address_space = "10.1.0.0/16"
subnet_address     = "10.1.1.0/24"

# Availability Zones (usually don't need to change)
# Default: ["1", "2", "3"] = Zone-redundant (recommended, required for Internet routing)
# Options:
#   ["1", "2", "3"] = Zone-redundant across all zones (99.99% SLA, no extra cost)
#   ["1"]           = Single zone only
#   []              = No zones (only for non-zonal regions)
# availability_zones = ["1", "2", "3"]

# WireGuard Configuration (usually don't need to change)
wireguard_port      = 51820
wireguard_subnet    = "10.0.0.0/24"
wireguard_server_ip = "10.0.0.1"
wireguard_client_ip = "10.0.0.2"

# Home Caddy port (usually don't need to change)
home_caddy_port = 8080

# Tags for cost tracking
tags = {
  Environment = "Production"
  ManagedBy   = "Terraform"
  Project     = "SecureTunnel"
  CostCenter  = "Personal"
}

# ===== COST ESTIMATE =====
# 
# With B1ls + Dynamic IP (recommended):
# - VM: $3.80/month
# - Disk: $1.50/month
# - Public IP: $2.80/month
# - Total: $8.10/month ($97.20/year)
#
# With B1s + Static IP:
# - VM: $10/month
# - Disk: $1.50/month  
# - Public IP: $3.65/month
# - Total: $15.15/month ($181.80/year)
